(function(){if(typeof window!=="undefined"){var e=window,j=document,c=addthis,g=_ate.util,a=j.getElementsByTagName("body")[0],i=j.getElementsByTagName("head")[0];requestAnimationFrame=(function(){return(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(d,b){e.setTimeout(d,1000/60);});})();}var f=function(h){var k={initialize:function(l,m){if(l&&m){this.R=l;this.host=m;}else{if(l){if(typeof l!=="function"&&typeof l.apply!=="undefined"){this.host=l;}}}},run:function(m){if(!m){m=this.R;}if(typeof m.length==="undefined"){m=[m];}function p(q){for(var r in q){if(q.hasOwnProperty(r)){return false;}}return true;}for(var l in m){var o=m[l];var n=false;if(typeof o.match==="undefined"||p(o.match)){this.host.apply(o);n=true;}else{if(this.testAll(o.match)){this.host.apply(o);n=true;}}if(n){if(typeof o["break"]!=="undefined"){if(o["break"]){break;}}}}},testAll:function(n){var o=n;for(var m in o){var l={};l[m]=o[m];if(!this.testOne(l)){return false;}}return true;},testOne:function(s){try{var n=s;var q;var p;for(var o in n){q=o;p=n[o];}if(this.test.hasOwnProperty(q)){var l=this.test[q](p);return l;}return false;}catch(r){return false;}},exists:function(l){if(typeof l==="undefined"){return false;}return true;},test:{referrer:function(m){if(typeof m==="string"){m=[m];}for(var l in m){var n=m[l];if(new RegExp(n).test(j.referrer)){return true;}}return false;},referringService:function(n){if(typeof n==="string"){n=[n];}var m=c.session.source();if(m.type!=="social"||typeof m.service==="undefined"){return false;}for(var l in n){var o=n[l];if(o===m.service){return true;}}return false;},usesService:function(o){if(typeof o==="string"){o=[o];}var n=c.user.services();for(var m in n){for(var l in o){if(typeof n[m].name!=="undefined"&&n[m].name===o[l]){return true;}}}return false;},service:function(l){if(this.usesService(l)||this.referringService(l)){return true;}return false;},preferredService:function(o){if(typeof o==="string"){o=[o];}var n=c.user.services();if(typeof n.length==="undefined"||!n.length){return false;}var l=n[0].name;for(var m in o){var p=o[m];if(p===l){return true;}}return false;},location:function(m){if(typeof m==="string"){m=[m];}for(var l in m){if(new RegExp(m[l]).test(j.location.href)){return true;}}return false;},url:function(l){return this.location(l);},mobile:function(l){if(!this.exists(l)){l=true;}return l===_ate.bro.mob;},tablet:function(m){var l=/ipad|tablet/i.test(navigator.userAgent);return m===undefined?l:l===m;},phone:function(m){var l=/phone/i.test(navigator.userAgent);return m===undefined?l:l===m;},socialBrowser:function(m){var l=/FBFor|Twitter/i.test(navigator.userAgent);return m===undefined?l:l===m;},desktop:function(l){if(!this.exists(l)){l=true;}return!this.mobile(l);},browser:function(l){switch(l.toLowerCase()){case"firefox":return _ate.bro.ffx;case"internet explorer":return _ate.bro.msi;case"internetexplorer":return _ate.bro.msi;case"explorer":return _ate.bro.msi;case"ie":return _ate.bro.msi;case"safari":return _ate.bro.saf;case"chrome":return _ate.bro.chr;case"opera":return _ate.bro.opr;default:return false;}},sameDomain:function(l){},locatedIn:function(l){return c.user&&c.user.isLocatedIn?c.user.isLocatedIn(l):false;},time:function(n){if(!n){return false;}var q,l,p=true,m=new Date();q=n.start||null;l=n.end||null;if(!q&&!l){return false;}function o(s){if(typeof(s)!="string"){return s;}var t=null;try{if(s.indexOf("/")==-1&&s.indexOf(",")==-1&&s.indexOf(":")!=-1){t=new Date((m.getMonth()+1)+"/"+m.getDate()+"/"+m.getFullYear()+" "+s);}else{t=new Date(s);}}catch(r){}return t;}if(q&&typeof(q)=="string"){q=o(q);}if(l&&typeof(l)=="string"){l=o(l);}if(q&&m<q){return false;}if(l&&m>l){return false;}return p;},returning:function(l){return c.user.isReturning();},query:function(n){var s=j.location.search;if(typeof s==="undefined"||!s.length||s.indexOf("=")===-1){return false;}var p=s.substring(1).split("&");var r={};var o;for(o in p){var q=p[o].split("=");var m=q[1];var l=q[0];if(m.indexOf("+")>-1&&["utm_term"].indexOf(l)>-1){m=m.split("+").sort().join("+");}r[q[0]]=m;}for(o in n){if(!(o in r)){return false;}switch(o){case"utm_term":if(r[o].indexOf(n[o])<0){return false;}break;default:if(n[o]!==r[o]){return false;}break;}}return true;},utm_source:function(l){return this.query({utm_source:l});},utm_medium:function(l){return this.query({utm_medium:l});},utm_term:function(m){if(typeof m==="string"){m=m.split("+");}for(var l in m){if(!this.query({utm_term:m[l]})){return false;}}return true;},utm_content:function(l){return this.query({utm_content:l});},utm_campaign:function(l){return this.query({utm_campaign:l});},iframe:function(l){if(typeof l==="undefined"){l=true;}return(e.top!==e)===l;},custom:function(l){if(typeof l==="function"){return l();}else{return!!l;}},hasTag:function(m){if(typeof m!=="string"&&"length"in m){for(var l in m){if(c.user.hasTag(m[l])){return true;}}return false;}return c.user.hasTag(m);},hasTags:function(l){if(typeof l==="string"){l=[l];}for(var m in l){if(!this.hasTag(l[m])){return false;}}return true;},exists:function(l){if(typeof l==="undefined"){return false;}return true;}}};if(typeof exports!=="undefined"){exports.Decision=k;}var b=function(l){var m={color:"000000",cache:{},init:function(){if(!l){this.color="000000";}this.css.par=this;this.color=l;if(!this.color||!this.valid()||typeof this.color==="undefined"){this.color="000000";}else{if(this.color.length===3){var o=this.color.substring(0,1);var n=this.color.substring(1,2);var p=this.color.substring(2,3);this.color=""+o+o+n+n+p+p;}}return this;},hex2num:function(n){if(n.length!==2){throw"err: use with 2-digit 16 bit numbers";}return parseInt(n,16);},mag:function(n){if(!n&&this.color){n=this.color;}return this.hex2num(n.substring(0,2))+this.hex2num(n.substring(2,4))+this.hex2num(n.substring(4,6));},isLight:function(n){if(!n&&this.color){n=this.color;}if(n.length!==6){return false;}var o=this.hex2num(n.substring(0,2))+this.hex2num(n.substring(2,4))+this.hex2num(n.substring(4,6));return o>425;},isDark:function(n){return!this.isLight(n);},valid:function(){this.color=this.color.toLowerCase();if(this.color.substring(0,1)==="#"){this.color=this.color.substring(1);}if(/(^[0-9,a-f]{3}$)|(^[0-9,a-f]{6}$)/.test(this.color)){return true;}return this.checkString();},checkString:function(){var n={black:"#000000",blue:"#0000ff",gray:"#808080",grey:"#808080",green:"#008000",orange:"#ffa500",purple:"#800080",red:"#ff0000",white:"#ffffff",yellow:"#ffff00"};this.color=this.color in n?n[this.color].substring(1):false;return this.color;},num2Hex:function(n){var o=Math.floor(n).toString(16);if(o.length===1){o="0"+o;}return o;},index:function(n){return n/255;},scaleUp:function(n){n=(n>1)?1:n;return n*255;},shadeOne:function(o,n){return this.num2Hex(this.scaleUp(this.index(this.hex2num(o))*n));},shade:function(o,n){if(!n){n=this.color;}if(!o){o=this.distance;}if(!(""+n in this.cache)){this.cache[""+n]={};}if(!(""+o in this.cache[""+n])){this.cache[""+n][o]=""+this.shadeOne(n.substring(0,2),o)+this.shadeOne(n.substring(2,4),o)+this.shadeOne(n.substring(4,6),o);}return this.cache[n][o];},css:{chrome:function(n,p){var r,o,q;n=n?n:(this.par.color?this.par.color:"333333");p=p?p:0.03;r=this.par.shade(1+p,n);o=this.par.shade(1-p,n);q+="-webkit-gradient(linear, center top, center bottom, from(#"+r+"), to(#"+o+"))";return{background:q,border:"1px solid #"+n};}},distance:0.2,cssString:function(o){if(!o&&o!==0){o=this.distance;}if(this.mag()>700||this.mag()<100){o=0;}var p=this.shade(1-o,this.color);var q=this.shade(1+2*o,this.color);var u=this.shade(1+o,this.color);var t=this.shade(1-0.1,this.color);var v=["#"+this.color,"-webkit-gradient(linear,left bottom,left top,color-stop(0%, #"+p+"),color-stop(90%, #"+u+"))","-ms-linear-gradient(bottom,#"+p+",#"+u+")","-moz-linear-gradient(center bottom,#"+p+" 0%,#"+u+" 100%)"];var s="";for(var r in v){var n="background:"+v[r]+";\n";s+=n;}s+="border-color: #"+t+";\n";return s;}};return m.init();};if(typeof module!=="undefined"&&"exports"in module){module.exports.Hugh=b;}var d={initialize:function(o,l){this.log("initialize");if(typeof o==="string"){this.initialize(this.parseInitString(o));}this.rendered=false;this.initialized=true;this.ua=navigator.userAgent;if(typeof this.decision==="undefined"){this.decision=k;this.decision.initialize(this);}this.Hugh=b;this.c=this.defaults;this.apply(this.c);if(!l&&o){if(typeof o.length!=="undefined"){l=o;o=null;}else{if(o.hasOwnProperty("rules")){l=o.rules;}else{if(o.hasOwnProperty("rule")){l=o.rule;}}if(o.hasOwnProperty("default")){o=o["default"];}}}if(o){if(typeof o.match==="undefined"){this.apply(o);}else{this.decision.run([o]);}}if(l){if(typeof l.length==="undefined"){l=[l];}this.decision.run(l);}if("welcome_rule"in addthis&&typeof o==="object"){var n=this;if("length"in o){g.each(o,function(q,p){if("name"in p&&p.name===addthis.welcome_rule){var r=g.clone(p);r.match={};n.apply(r);addthis.bar.render();}});}else{if("name"in o&&o.name===addthis.welcome_rule){var m=g.clone(o);m.match={};n.apply(m);}}}this.applyShowOnScrollTo();if(typeof this.c.showOnScrollTo==="undefined"||!this.c.showOnScrollTo){this.applyDelay();}this.initialShow=true;if(this.c.show){this.show();}this.initialShow=false;},vals:{},parseInitString:function(m){var n={},o=/(.*)\{(.*)\}\((.*?)\:(.*)\)/.exec(m),l;if(o&&o.length===5){n.message=o[1];l=n.action={text:o[2],verb:o[4].substring(0,1)==="/"?"link":o[3]};if(l.verb==="link"){l.url=o[3]+":"+o[4];}else{if(l.verb==="follow"){l.url=o[4];}else{l.service=o[4];}}}else{n.message=m;}return n;},old:function(){return!_ate.bro.mob;},styleSheet:false,props:{showCount:1},pco:"wmb-1.0",version:1.1,temp:{hiddenByExplicitHide:false,theme:"dark",beenShown:false,showOnScrollApplied:false,initialShow:false},c:{},apply:function(p){this.log("apply");var q,n;if("important"in this.c&&!("important"in p)){return;}for(n in p){if(p.hasOwnProperty(n)){switch(n){case"backgroundColor":q={};q[n]=p[n];this.applySugar(q);break;case"buttonColor":q={};q[n]=p[n];this.applySugar(q);break;case"textColor":q={};q[n]=p[n];this.applySugar(q);break;case"buttonTextColor":q={};q[n]=p[n];this.applySugar(q);break;case"fixed":q={};q[n]=p[n];this.applySugar(q);break;case"css":this.addCSS2Config(p[n],this.c);break;case"name":if(typeof this.c.rules==="undefined"){this.c.rules=[];}var l=false;for(var m in this.c.rules){var o=this.c.rules[m];if(o===p[m]){l=true;}}if(!l){this.c.rules.push(p[n]);}break;case"position":this.applyPosition(p[n]);break;case"el":this.el=p[n];break;default:this.c[n]=p[n];}}}},applySugar:function(n){this.log("applySugar");for(var m in n){switch(m){case"backgroundColor":this.apply({css:{".addthis_bar_container":{"background-color":n[m]}}});break;case"buttonColor":this.apply({css:{".addthis_bar_button":{"background-color":n[m]}}});break;case"textColor":this.apply({css:{".addthis_bar_p":{color:n[m]}}});break;case"buttonTextColor":this.apply({css:{".addthis_bar_button":{color:n[m]}}});break;case"fixed":this.c[m]=n[m];var l="fixed !important";if(!n[m]){l="absolute";}this.apply({css:{".addthis_bar_container":{position:l}}});break;}}},applyPosition:function(l){switch(l){case"fixed":var m={".addthis_bar_container":{position:"fixed",width:"100%"}};this.addCSS2Config(m,this.c);break;default:break;}},addCSS2Config:function(o,m){if(typeof m.css==="undefined"){m.css={};}for(var n in o){if(typeof m.css[n]==="undefined"){m.css[n]={};}for(var l in o[n]){m.css[n][l]=o[n][l];}}return m;},dev:false,rendered:false,configuration:[],attr:{},els:{},listeners:{},slideAnimation:function(l){m;if(_ate.bro.mod>0||("animate"in this.c&&!this.c.animate)||"noAnimate"in this.c||_ate.bro.ie8||_ate.bro.ie7||_ate.bro.ie6){l.el.style.top=""+l.curve[l.curve.length-1]+"px";if("cb"in l&&typeof l.cb==="function"){return l.cb();}return;}this.roll=[];for(var m in l.curve){this.roll.push(l.curve[m]);}var n=function(){l.el.style.top=c.bar.roll.shift()+"px";var o=c.bar.el.offsetHeight+c.bar.el.offsetTop;c.bar.placeHolder.style.height=o+"px";if(c.bar.roll.length){requestAnimationFrame(n);}else{if(l.cb){l.cb();}}};n();},curves:{down:{a:[-46,-40,-34,-29,-25,-20,-15,-10,-5,0]},up:{a:[0,-4,-8,-12,-16,-27,-36,-44,-48]}},slideUp:function(m){this.log("slideUp");var l=this;this.placeHolder.style.height=this.el.offsetHeight+"px";this.slideAnimation({curve:this.curves.up.a,el:this.el,cb:function(){l.el.style.display="none";l.placeHolder.style.display="none";if(typeof m==="function"){m();}}});},slideDown:function(l){this.log("slideDown");this.slideAnimation({curve:this.curves.down.a,el:this.el,cb:l});this.el.style.display="block";if(this.checkCookieHidden()){this.placeHolder.style.display="none";}else{this.placeHolder.style.display="block";}},render:function(l){this.log("render");var m=this.checkCookieHidden();if(!this.initialized){return false;}if(typeof this.c.action==="function"){return this.c.action();}if("action"in this.c&&"type"in this.c.action&&this.c.action.type==="app"&&"id"in this.c.action){var n=_ate.util.json2html({meta:{name:"apple-itunes-app",content:"app-id="+this.c.action.id+", affiliate-data=foo, app-argument=walmart://search?q=wii"}});j.getElementsByTagName("head")[0].appendChild(n);return;}if(this.el){this.parent.removeChild(this.el);this.el=false;}if(!this.el){this.el=_ate.util.json2html(this.template.container);this.placeHolder=_ate.util.json2html(this.template.placeHolder);this.logo=this.el.getElementsByTagName("div")[0];this.p=this.el.getElementsByTagName("p")[0];this.x=this.el.getElementsByTagName("div")[1];this.prepend(this.parent,c.bar.el);this.prepend(this.parent,c.bar.placeHolder);if(this.old()||_ate.ab!=="mb2"){this.addClass("old",this.el);}}this.applyStyles();if(m){this.addClass("closed");this.renderOpenButton();this.placeHolder.style.display="none";return;}else{this.removeClass("closed");}this.listen("click",this.logo,function(){e.open("http://www.addthis.com?utm_medium=link&utm_content=logo&utm_campaign=AT_main&utm_source=wmb");});this.renderBar();if(!m){this.renderCloseButton();}c.toolbox(c.bar.el);this.applyHideAfter();this.showEvent();this.rendered=true;setTimeout(function(){if(_ate.ab==="mb2"&&!c.bar.old()&&c.bar.el.offsetHeight>50){c.bar.addClass("multi",c.bar.el);}},0);if(typeof l==="function"){return l();}return true;},makeConfig:function(){var l={};l.matchedConfig=this.c;l.beenShown=this.temp.beenShown;l.userHide=this.temp.hiddenByExplicitHide;l.pco=this.pco;l.showCount=this.props.showCount;return l;},showEvent:function(){if(!this.temp.beenShown){this.temp.beenShown=true;}if(typeof this.temp.showPixel==="undefined"){this.temp.showPixel=false;}if(!this.temp.showPixel){var l=this;_ate.track.apc(l.pco);this.temp.showPixel=true;}},applyDelay:function(){this.log("applyDelay");if(typeof this.c.delay==="string"){this.c.delay=parseInt(this.c.delay,10);}if(typeof this.c.delay==="number"&&this.c.delay){if(typeof this.temp.delayed==="undefined"){this.temp.delayed=false;}var l=this.c.delay;if(l<100){l*=1000;}if(!this.temp.delayed){this.temp.delayed=true;this.c.show=false;var m=this;setTimeout(function(){m.c.show=true;m.show();},l);return true;}}return false;},applyHideAfter:function(){this.log("applyHideAfter");if(typeof this.c.hideAfter==="undefined"){return;}this.c.hideAfter=parseInt(this.c.hideAfter,10);if(typeof this.temp.touched!=="undefined"&&this.temp.touched){return;}var l=this.c.hideAfter*1000;if(typeof this.c.hideAfter==="number"){var m=this;setTimeout(function(){if(!m.temp.touched){m.hide();}},l);}},listen:function(l,m,o){if(typeof m==="function"){o=m;m=j;}var n=o;if(typeof m.addEventListener==="undefined"){if((_ate.bro.ie8||_ate.bro.ie7)&&l==="scroll"){m=e;}m.attachEvent("on"+l,o);}else{m.addEventListener(l,o,false);}return n;},stopListening:function(o,p,m){if(typeof p==="string"){p=this.listeners[p];}var n=j;if(typeof j.addEventListener==="undefined"){if((_ate.bro.ie8||_ate.bro.ie7)&&o==="scroll"){n=e;}n.detachEvent(p);}else{var l=n.removeEventListener(o,p,!!m);}},applyShowOnScrollTo:function(){this.temp.showOnScrollApplied=true;var q;if(typeof this.c.showOnScrollTo==="undefined"||!this.c.showOnScrollTo){return false;}var s=function(v){var x=v.offsetTop,w=v.offsetLeft,u=v.offsetWidth,t=v.offsetHeight;while(v.offsetParent){v=v.offsetParent;x+=v.offsetTop;w+=v.offsetLeft;}return(x<(e.pageYOffset+e.innerHeight)&&w<(e.pageXOffset+e.innerWidth)&&(x+t)>e.pageYOffset&&(w+u)>e.pageXOffset);};var r=function(u,w){var v=true;var t=true;return function(){if(v){u();}v=false;if(t){setTimeout(function(){v=true;t=true;},w);t=false;}};};var o=this.c.showOnScrollTo;var m=false;var l=function(){var t,u;t=j.body.offsetHeight;if(_ate.bro.msi||_ate.bro.ffx){u=j.documentElement.scrollTop;}else{u=j.body.scrollTop;}if(typeof e.innerHeight!=="undefined"){u+=e.innerHeight;}else{u+=j.documentElement.clientHeight;}return u/t;};if(typeof o==="string"){if(typeof o.indexOf!=="undefined"&&o.indexOf("%")!==-1){q=this;o=parseInt(q.c.showOnScrollTo.substring(0,q.c.showOnScrollTo.length-1),10)/100;m=function(){return l()>o;};}else{var n=c._select(o);if(typeof n.length!=="undefined"){o=n[0];}}}else{if(typeof o==="number"){var p=o;if(p>1){p=p/100;}m=function(){return l()>p;};}}if(!m){m=function(){if(s(o)){return true;}return false;};}this.c.show=false;if(m()){this.c.show=true;this.show();return false;}else{q=this;this.listeners.scroll=this.listen("scroll",r(function(){if(m()){q.c.show=true;q.stopListening("scroll","scroll",false);q.show();}},300));return true;}},renderBar:function(){this.log("renderBar");this.removeClass("closed");if(typeof this.c.message==="undefined"){return;}this.p.innerHTML=this.applyTemplate(this.c.message+"     ");this.renderAction();this.fixColors();},fixColors:function(){var l="000000";if("css"in this.c&&".addthis_bar_container"in this.c.css&&"background-color"in this.c.css[".addthis_bar_container"]){l=this.c.css[".addthis_bar_container"]["background-color"];}if(this.Hugh(l).isLight()){this.addClass("light",this.el);}else{this.removeClass("light",this.el);}var m="000000";if("css"in this.c&&".addthis_bar_container"in this.c.css&&"background-color"in this.c.css[".addthis_bar_container"]){l=this.c.css[".addthis_bar_container"]["background-color"];}if("css"in this.c&&".addthis_bar_button"in this.c.css){if(this.Hugh(this.c.css[".addthis_bar_button"]["color"]).isDark()){this.addClass("dark-text",this.els.button);}else{this.removeClass("dark-text",this.els.button);}}},renderHidden:function(){this.log("renderHidden");this.addClass("closed");this.addClass("hidden",this.placeHolder);this.renderOpenButton();},renderMessage:function(){this.log("renderMessage");},applyTemplate:function(n){this.log("applyTemplate");var m=this.getService();if(m){var l=this.serviceName(m);if(typeof n==="string"){n=n.replace(/\{\{service\}\}/,l);}}return n;},serviceName:function(l){return l.substring(0,1).toUpperCase()+l.substring(1);},renderAction:function(){this.log("renderAction");var l=this.c.action;if(typeof l==="undefined"){return;}if(typeof l.type==="undefined"){l.type="button";}switch(l.type){case"button":this.renderActionButton(l);break;case"app":l.verb="app";this.renderActionButton(l);break;case"email":this.renderEmail(l);break;case"native":try{this.renderActionNative(l);}catch(m){}break;}},renderActionButton:function(o){this.log("renderActionButton");if(typeof o.text==="undefined"){o.text="Go";}this.els.button=j.createElement("button");var m=this.els.button;m.innerHTML=this.applyTemplate(o.text);var n=this;this.listen("click",m,function(){_ate.ed.fire("addthis.bar.click",n,n.makeConfig());});if(/MSIE 7.0/.test(navigator.userAgent)){var l=j.createAttribute("class");l.value="addthis_bar_button";m.setAttributeNode(l);}else{m.className+=" addthis_bar_button";}this.p.appendChild(m);switch(o.verb){case"share":this.attachShareEvent(m);break;case"follow":this.attachFollowEvent(m);break;case"app":this.c.action=this.handleApp(o);this.attachLinkEvent(m);break;case"link":this.attachLinkEvent(m);break;}},renderEmail:function(n){this.log("renderEmail");if(typeof n.text==="undefined"){n.text="Go";}this.input=_ate.util.json2html({input:{type:"text",placeholder:"Email Address"}});this.p.appendChild(this.input);this.els.button=j.createElement("button");var l=this.els.button;l.innerHTML=this.applyTemplate(n.text);var m=this;this.listen("click",l,function(){_ate.ed.fire("addthis.bar.click",m,m.makeConfig());});var m=this;this.listen("keypress",this.input,function(o){if(o.keyCode===13){m.fireEvent(m.els.button,"click");}});this.addClass("addthis_bar_button",l);this.p.appendChild(l);if("async"in n&&!n.async){this.renderEmailSync(n);}else{this.renderEmailAsync(n);}},getUrl:function(m,l){var n=document.createElement("iframe");n.src=m;document.getElementsByTagName("head")[0].appendChild(n);n.addEventListener("load",function(){n.parentNode.removeChild(n);if(l){l();}});},renderEmailAsync:function(n){var m=this;var l=function(){};l.email=function(p){if(p.split("@").length!=2||p.indexOf(".")==-1||p.length>256){return false;}var o=new RegExp("^[a-z0-9,!#$%&'*+/=?^_`{|}~-]+(.[a-z0-9,!#$%&'*+/=?^_`{|}~-]+)*@[a-z0-9-]+(.[a-z0-9-]+)*.([a-z]{2,})$");return String(p.toLowerCase()).search(o)!=-1;};this.listen("click",m.els.button,function(){if("tip"in addthis.bar&&!!addthis.bar.tip.parentNode){addthis.bar.tip.parentNode.removeChild(addthis.bar.tip);if("tipInterval"in addthis.bar&&addthis.bar.tipInterval){clearInterval(addthis.bar.tipInterval);}}if(n.type==="email"&&"input"in m){if(!l.email(m.input.value)){addthis.bar.tip=addthis.tip({target:addthis.bar.input,text:"Please enter a valid email address to subscribe."});setTimeout(function(){var q=[1,0.9,0.8,0.7,0.6,0.5,0.4,0.3,0.2,0.1].reverse();addthis.bar.tipInterval=setInterval(function(){if(q.length){var r=q.pop();addthis.bar.tip.style.opacity=r;}else{clearInterval(addthis.bar.tipInterval);if(!!addthis.bar.tip.parentNode){addthis.bar.tip.parentNode.removeChild(addthis.bar.tip);}}},10);},1000);return;}var o=encodeURIComponent(m.input.value);if("service"in n&&!("url"in n)){switch(n.service.toLowerCase()){case"aweber":n.url="http://www.aweber.com/scripts/addlead.pl?email="+o+"&listname="+n.listname;break;}}var p=_ate.cookie.tag.toKV();n.url+=(n.url.indexOf("?")<0?"?":"&")+"EMAIL="+o+(p.length?"&AT_TAG="+p:"");}m.initialize({message:"Your request is being processed...",animate:false,action:{type:"none"}});m.getUrl(n.url,function(){m.initialize({message:"<img src='//cache.addthiscdn.com/downloads/img/surface/st-chk0.png' style='vertical-align:top;width:1.6em' /> Well done! You have successfully subscribed with "+decodeURIComponent(o),action:{type:"none"},animate:false});setTimeout(function(){m.c.animate=true;m.slideUp();},2500);});});},renderEmailSync:function(l){this.attachLinkEvent(this.els.button);},handleApp:function(m){this.log("handleApp");if("iphoneurl"in m){m.iPhoneUrl=m.iphoneurl;}if("iphoneUrl"in m){m.iPhoneUrl=m.iphoneUrl;}if("ipadUrl"in m){m.iPadUrl=m.ipadUrl;}if("ipadurl"in m){m.iPadUrl=m.ipadurl;}if(_ate.bro.dro&&"androidUrl"in m){if("androidUrl"in m){m.url=m.androidUrl;}else{if("name"in m){m.url="http://play.google.com/store/apps/details?id="+m.name;}}}else{if(_ate.bro.ipad||_ate.bro.iph){if("iOSUrl"in m){m.url=m.iOSUrl;}if(_ate.bro.iph&&"iPhoneUrl"in m){m.url=m.iPhoneUrl;}else{if(_ate.bro.ipa&&"iPadUrl"in m){m.url=m.iPadUrl;}}if(!("url"in m)&&"name"in m){var l=m.name;l=l.replace(/[\!Â¡"#$%'\(\)\*\+,\\\-\.\/\:;<=>Â¿\?@\^_`\{\|\}~\\[\] ]/g,"").toLowerCase();m.url="http://itunes.com/apps/"+m.name;}}}if(!("url"in m)){if("name"in m){m.url="http://itunes.com/apps/"+m.name;}}return m;},renderActionNative:function(o){var l=j.createElement("a");if(o.service==="preferred"){o.service=this.getService();}var n="addthis_button_";var m=o.service;if(typeof o.verb!=="undefined"){m+="_"+o.verb;}switch(m){case"facebook_like":m="facebook_like";l.setAttribute("fb:count","none");break;case"facebook":m="facebook_like";l.setAttribute("fb:count","none");break;case"twitter_share":m="tweet";l.setAttribute("tw:count","none");break;case"twitter_follow":m="twitter_follow_native";l.setAttribute("tw:count","none");if(typeof o.id==="undefined"){}else{l.setAttribute("tf:screen_name",o.id);}break;case"google_plus_share":m="google_plusone";l.setAttribute("g:plusone:count","false");l.setAttribute("g:plusone:size","medium");break;case"google_plusone_share":m="google_plusone";l.setAttribute("g:plusone:count","false");l.setAttribute("g:plusone:size","medium");break;default:break;}n+=m;l.className=n;l.className+=" addthis_bar_button_native ";l.setAttribute("g:plusone:count","false");this.el.className+=" addthis_bar_native_action ";this.p.className+=" addthis_bar_native_"+m;this.p.appendChild(l);},attachShareEvent:function(m){this.log("attachShareEvent",m);var l=this.getService();var o=this.c.action;var n=this;if(m.addEventListener){m.addEventListener("click",function(){n.temp.touched=true;_ate.share.stw(l,null,{product:n.pco});},false);}else{m.attachEvent("onclick",function(){n.temp.touched=true;_ate.share.stw(l,null,{product:n.pco});});}},getService:function(){this.log("getService");var m={google_plus:"google_plusone_share"};if((typeof this.c.action==="undefined"||typeof this.c.action.service==="undefined")||this.c.action.service==="preferred"){var l;var n=c.user.services();if(typeof n.length==="number"&&c.user.services().length>0){l=c.user.services()[0];}else{l={name:"facebook"};}return l.name;}if(typeof this.c.action.service!=="undefined"){if(this.c.action.service in m){return m[this.c.action.service];}return this.c.action.service;}return false;},attachFollowEvent:function(l){this.log("attachFollowEvent",l);var n=this.c.action;n.service=this.mapService2Follow(n.service);var m=this;if(l.addEventListener){l.addEventListener("click",function(){m.temp.touched=true;if(typeof n.service!=="undefined"&&typeof n.id!=="undefined"){_ate.share.ftw(n.service,n.id,{},{product:m.pco});}else{if(typeof n.url==="undefined"){n.url=this.makeFollowUrl(n);}e.open(n.url,"","width=550,height=420,top=80,left=80");}},false);}else{l.attachEvent("onclick",function(){m.temp.touched=true;if(typeof n.service!=="undefined"&&typeof n.id!=="undefined"){_ate.share.ftw(n.service,n.id,{},{product:m.pco});}else{if(typeof n.url==="undefined"){n.url=this.makeFollowUrl(n);}e.open(n.url,"","width=550,height=420,top=80,left=80");}});}},mapService2Follow:function(l){var m={google:"google_follow"};if(l in m){return m[l];}else{return l;}},makeFollowUrl:function(l){var m={twitter:"https://twitter.com/intent/follow?source=followbutton&variant=1.0&screen_name="};if(typeof l.url!=="undefined"){return l.url;}else{if(typeof m[l.service]!=="undefined"){return m[l.service]+l.id;}else{return l.id;}}},attachLinkEvent:function(l){this.log("attachFollowEvent",l);var o=this.c.action;var m=this;var n=function(){m.log("goToThere");return;if(o.type==="email"&&"input"in m){var p=encodeURIComponent(m.input.value);o.url+=(o.url.indexOf("?")<0?"?":"&")+"EMAIL="+p;}if(o.verb==="app"||o.type==="app"||o.type==="email"||"newWindow"in o&&o.newWindow){e.open(o.url);}else{e.location=o.url;}};var m=this;if(l.addEventListener){l.addEventListener("mousedown",function(){m.temp.touched=true;_ate.track.trl({data:{url:o.url,pco:m.pco}});},false);l.addEventListener("click",function(){m.temp.touched=true;setTimeout(n,150);},false);}else{l.attachEvent("onmousedown",function(){m.temp.touched=true;_ate.track.trl({data:{url:o.url,pco:m.pco}});});l.attachEvent("onclick",function(){setTimeout(n,150);});}},renderCloseButton:function(){var l=this;if("close"in this.listeners){this.stopListening("click",this.listeners.closeListener);}this.listeners.close=this.listen("click",this.x,function(){l.stopListening("click","close",false);l.temp.touched=true;l.setClosedCookie();l.slideUp(function(){l.render();l.slideDown();});});},renderOpenButton:function(){var l=this;if("open"in this.listeners){this.stopListening("click",this.listeners.open);}this.listeners.open=this.listen("click",this.x,function(){l.stopListening("click","open",false);l.temp.touched=true;l.setClosedCookie(false);l.slideUp(function(){l.render();l.slideDown();});});},setClosedCookie:function(n){var l=this.getRuleHash();var m;if(n||typeof n==="undefined"){m="1";}else{if(n===false){m="0";}}return _ate.cookie.sck("__atbar"+l,"h="+m,0,1);},checkCookieHidden:function(){if(this.c.dev){return false;}var l=this.getRuleHash();if(!l){return false;}var m=_ate.cookie.rck("__atbar"+l);var n=_ate.util.fromKV(m);if(n.h==="1"){return true;}return false;},getRuleHash:function(){if(!"match"in this.c){return;}var n="";for(var m in this.c.rules){var o=this.c.rules[m];n+=","+o;}n=n.substring(1);var l=_ate.mun(n);return l;},applyStyles:function(){this.log("applyStyles");this.setCSS(this.c.css);},show:function(n){this.log("bar.show");if(typeof n==="object"&&n!==null){this.initialize(n);}if(typeof this.c.message==="undefined"&&typeof this.c.action==="undefined"){this.log("don't see the point");return false;}if(this.c.rememberHide&&this.checkCookieHidden()){this.c.hidden=true;}if(!this.render()){return;}if(!this.c.hidden){var o=this;var m=o.makeConfig();var l=_ate.ed.fire("addthis.bar.show",o,o.makeConfig());this.props.showCount++;}this.slideDown();},hide:function(){this.temp.hiddenByExplicitHide=true;var l=this;_ate.ed.fire("addthis.bar.hide",l,l.makeConfig());if(this.c.hidden){return;}this.c.hidden=true;l=this;this.slideUp(function(){l.render(function(){l.slideDown();});});},addClass:function(l,m){if(!m){m=this.el;}m.className+=" "+l;},removeClass:function(l,m){if(!m){m=this.el;}m.className=m.className.replace(new RegExp(l,"gi"),"");},getElementsByClassName:function(m,l,n){if(j.getElementsByClassName){this.getElementsByClassName=function(t,w,s){s=s||j;var o=s.getElementsByClassName(t),v=(w)?new RegExp("\\b"+w+"\\b","i"):null,p=[],r;for(var q=0,u=o.length;q<u;q+=1){r=o[q];if(!v||v.test(r.nodeName)){p.push(r);}}return p;};}else{if(j.evaluate){this.getElementsByClassName=function(x,A,w){A=A||"*";w=w||j;var q=x.split(" "),y="",u="http://www.w3.org/1999/xhtml",z=(j.documentElement.namespaceURI===u)?u:null,r=[],o,p;for(var s=0,t=q.length;s<t;s+=1){y+="[contains(concat(' ', @class, ' '), ' "+q[s]+" ')]";}try{o=j.evaluate(".//"+A+y,w,z,0,null);}catch(v){o=j.evaluate(".//"+A+y,w,null,0,null);}while((p=o.iterateNext())){r.push(p);}return r;};}else{this.getElementsByClassName=function(z,C,y){C=C||"*";y=y||j;var s=z.split(" "),B=[],o=(C==="*"&&y.all)?y.all:y.getElementsByTagName(C),x,u=[],w;for(var t=0,p=s.length;t<p;t+=1){B.push(new RegExp("(^|\\s)"+s[t]+"(\\s|$)"));}for(var r=0,A=o.length;r<A;r+=1){x=o[r];w=false;for(var q=0,v=B.length;q<v;q+=1){w=B[q].test(x.className);if(!w){break;}}if(w){u.push(x);}}return u;};}}return this.getElementsByClassName(m,l,n);},createDiv:function(l){var m=j.createElement("div");if(l){this.addClass(l,m);}return m;},remove:function(l){var m;if(typeof l==="string"){m=this.selector(l);}else{m=l;}if(typeof m.parentNode!=="undefined"){m.parentNode.removeChild(m);}},selector:function(l){if(l.indexOf("#")===0){return j.getElementById(l.substring(1));}if(l.indexOf(".")===0){return this.getElementsByClassName(l.substring(1));}},prepend:function(m,l){if(m.childNodes.length){m.insertBefore(l,m.childNodes[0]);}else{m.appendChild(l);}},setCSS:function(n){this.log("setCSS");var m="";for(var l in n){if(typeof n[l]==="string"){m+=n[l];}else{m+=this.object2CSS(l,n[l]);}}this.updateStyleSheet(m);if(typeof n[".addthis_bar_button"]!=="undefined"&&typeof n[".addthis_bar_button"]["background-color"]!=="undefined"){this.buttonCSS(n);}if(typeof n[".addthis_bar_container"]!=="undefined"&&typeof n[".addthis_bar_container"]["background-color"]!=="undefined"){this.backgroundCSS(n);}},object2CSS:function(l,o){var n=""+l+"{";for(var m in o){n+=m+":"+o[m]+";";}n+="}\n";return n;},backgroundCSS:function(o){this.log("backgroundCSS");var n,m,l;var l=this.el.style.backgroundColor;if(l===""){l=this.c.css[".addthis_bar_container"]["background-color"];}n=".addthis_bar_container {"+b(l).cssString(("noGradient"in this.c&&this.c.noGradient)?0:0.05)+"}";this.updateStyleSheet(n);},buttonCSS:function(p){this.log("buttonCSS");var o="",n,m;var l=p[".addthis_bar_button"]["background-color"];var q=this.el.style.backgroundColor;if(q===""){q=this.c.css[".addthis_bar_container"]["background-color"];}n=b(l).cssString();o+=".addthis_bar_button { "+n+"box-shadow: 0px 0px 0px #"+b(q).shade(0.6)+";\n }\n";m=b(l).shade(0.95);n=b(b(l).shade(1.1)).cssString();o+=".addthis_bar_button:hover { "+n+" }\n";m=b(l).shade(0.95);n=b(m).cssString();o+=".addthis_bar_button:active { \n"+n+"\tbox-shadow: inset 0px 1px 1px #"+b(l).shade(0.8)+", \t0px 0px 0px #"+b(q).shade(0.8)+";\n\tborder-top-color: #"+b(l).shade(0.83)+";\n\tborder-left-color: #"+b(l).shade(0.83)+";\n\tborder-right-color: #"+b(l).shade(0.9)+";\n\tborder-bottom-color: #"+b(l).shade(0.9)+";\n }\n";this.updateStyleSheet(o);},updateStyleSheet:function(n){var m=j.getElementsByTagName("head")[0],l=j.createElement("style");l.type="text/css";if("styleSheet"in l){l.styleSheet.cssText=n;}else{l.appendChild(j.createTextNode(n));}m.appendChild(l);return l;},makeRand:function(){return Math.round(Math.random());},log:function(){if(typeof this.dev==="undefined"||!this.dev){return;}return console.log.apply(console,arguments);},fireEvent:function(m,n){if(j.createEvent){var l=j.createEvent("HTMLEvents");l.initEvent(n,true,true);return!m.dispatchEvent(l);}else{var l=j.createEventObject();return m.fireEvent("on"+n,l);}},hasTag:function(l){return c.user.hasTag(l);},redraw:function(l){this.log("redraw");var m=j.createTextNode(" ");l.appendChild(m);setTimeout(function(){m.parentNode.removeChild(m);},0);return l;},fire:function(m,l){var n=this;_ate.ed.fire(m,n.el,l);},template:{placeHolder:{".addthis_bar_placeholder":""},container:{".addthis_bar_container":[{".addthis_bar_logo":{title:"AddThis.com"}},{"p.addthis_bar_p":""},{".addthis_bar_x":{title:"Hide"}}]}},defaults:{show:true,fixed:false,rememberHide:true,watermark:true,delay:0,showOnScrollTo:false},_clear:{}};if(arguments.length===2){d.initialize(arguments[0],arguments[1]);}else{if(arguments.length===1){d.initialize(arguments[0]);}}return d;};if(c){c.user.ready(function(){c.bar=f();var b=_ate.util.gebcn(a,"div","addthis_bar_container");c.bar.parent=j.getElementsByTagName("body")[0];if(b.length){c.bar.parent=b[0].parentNode;c.bar.parent.removeChild(b[0]);}else{c.bar.parent=a;}if(typeof addthis_config!=="undefined"&&typeof addthis_config.greet!=="undefined"){c.bar.initialize(addthis_config.greet);c.bar.render();}_ate.ed.fire("addthis.bar.ready",c,{pco:c.bar.pco});});}else{if(typeof module!=="undefined"&&"exports"in module){module.exports=f;}}})();
